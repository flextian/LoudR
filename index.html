<!DOCTYPE html>
<html>
<head>
	<title>My Website</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="index.css">
</head>

<body>
    <h1>Flextian's Litty Audio Editor</h1>
    <input type="file" id="audio-input-button" accept="audio/*">

    <div>
        
    </div>

    <button onclick="compile()">Compile Audio</button>
	<div id="output"></div>

<script>
/*
<input type="checkbox" id="gain-checkbox">
<h3 style="display:inline;">Gain</h3>
<input type="text"></input>
</span>
<span class="filter">
<input type="checkbox" id="speed-multiplier-checkbox">
<h3 style="display:inline;">Speed Multiplier</h3>
<input type="text"></input>


createFilter("asdf");

    function createFilter(filterName){
        var filterDiv = document.createElement("div");
        var checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.id = filterName + "-checkbox";
        var title = document.createElement("h1");
        var filterName = document.createTextNode(filterName);
        title.appendChild(filterName);
        title.style = "display: inline;";
        filterDiv.appendChild(checkbox);
        filterDiv.appendChild(title);
        document.body.appendChild(filterDiv);
    }

*/
    function compile(){
        //creates the audio bar
        var fileInput = document.getElementById("audio-input-button");
        var file = fileInput.files;
        const audioBar = document.createElement("audio");
        audioBar.src = window.URL.createObjectURL(file[0]);
        audioBar.type = "audio/mpeg";
        audioBar.controls = true;
        audioBar.className = "center-align";

        //creates the filter
        var context = new AudioContext(),
        audioSource = context.createMediaElementSource(audioBar),
        gainNode = context.createGain();
        audioSource.connect(gainNode);
        gainNode.gain.value = 1000;
        gainNode.connect(context.destination);

        //appends audio bar to the div
        const outputArea = document.getElementById("output");
        outputArea.innerHTML = "";
        outputArea.append(audioBar);
    }
</script>
</body>

</html>