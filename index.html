<!DOCTYPE html>
<html>
<head>
	<title>Ear Raper</title>
	<meta charset="UTF-8" />
	
	<style type="text/css">
  </style>
<script src="Pizzicato.js"></script>
</head>

<body>
	<input type="file" id = "audio" accept="audio/mp3 img/*" multiple onchange = "aa(this.files)">
	<div id="fileList">
		<p>No files selected!</p>
	</div>
    


<script>
  
  window.URL = window.URL || window.webkitURL;

const fileSelect = document.getElementById("fileSelect"),
    fileElem = document.getElementById("fileElem"),
    fileList = document.getElementById("fileList");

function aa(files) {
  if (!files.length) {
    fileList.innerHTML = "<p>No files selected!</p>";
  } else {
    fileList.innerHTML = "";
    const list = document.createElement("ul");
    fileList.appendChild(list);
    for (let i = 0; i < files.length; i++) {
      const li = document.createElement("li");
      list.appendChild(li);
    




    
    const img = document.createElement("audio");
    img.src = window.URL.createObjectURL(files[i]);
    
    var acousticGuitar = new Pizzicato.Sound(img.src, function() {

      var distortion = new Pizzicato.Effects.Distortion({gain: 5});
    acousticGuitar.addEffect(distortion);
    acousticGuitar.play();
});

	  img.type = "audio/mpeg";
	  img.controls = true;
	  
      img.onload = function() {
        window.URL.revokeObjectURL(this.src);
      }
      li.appendChild(img);
      const info = document.createElement("span");
      info.innerHTML = files[i].name + ": " + files[i].size + " bytes";
      li.appendChild(info);
    }
  }
}
</script>

</body>



</html>